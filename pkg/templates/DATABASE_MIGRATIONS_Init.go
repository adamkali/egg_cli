package templates

const DATABASE_MIGRATIONS_INITTemplate = `
/* Generated by egg v0.0.1 */

-- +goose Up
-- +goose StatementBegin
CREATE TABLE users (
  id UUID PRIMARY KEY NOT NULL DEFAULT gen_random_uuid(),
  email VARCHAR NOT NULL UNIQUE,
  username VARCHAR NOT NULL UNIQUE,
  created_datetime TIMESTAMP NOT NULL,
  updated_datetime TIMESTAMP NOT NULL,
  profile_pic_url VARCHAR(255),
  b_crypt_hash VARCHAR NOT NULL,
  admin BOOLEAN NOT NULL DEFAULT false
);
CREATE TABLE tokens (
  id UUID PRIMARY KEY NOT NULL DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES users(id),
  expiration_datetime TIMESTAMP NOT NULL,
  token text NOT NULL
);
-- +goose StatementEnd

-- +goose Down
-- +goose StatementBegin
DROP TABLE tokens;
DROP TABLE users;
-- +goose StatementEnd
`
